<html>

<head>
  <title>Test web3auth app</title>
</head>

<body>
  <h1>Test web3auth app</h1>
  <div>
    <button class="show-modal">Show Modal</button>
  </div>
  <script src="./ui.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@toruslabs/openlogin-jrpc"></script>
  <script>
    (async function init() {
      try {
        const testEventEmitter = new OpenloginJrpc.SafeEventEmitter();
        const modal = new Ui({
          adapterListener: testEventEmitter,
          theme: "dark",
          appLogo: "https://cryptologos.cc/logos/solana-sol-logo.svg",
          version: "1",
        });
        modal.addSocialLogins(
          "openlogin",
          {
            google: {
              name: "google",
            },
            facebook: {
              name: "facebook",
            },
          },
          ["facebook"]
        );
        modal.addWalletLogins(
         {
           "metamask": {
             label: "metamask"
           },
           "wallet-connect-v1": {
             label: "wallet-connect-v1"
           }
         },
         { showExternalWalletsOnly: false }
        );
        modal.open();
        testEventEmitter.emit("adapter_data_updated", { adapterName: "wallet-connect-v1", data: { uri: "alslkslkalls" } })
        testEventEmitter.emit("connecting", { adapter: "openlogin" })
        // testEventEmitter.emit("errored", { error: new Error("something went wrong") })
        // testEventEmitter.emit("connected", { adapter: "wallet-connect-v1" })
        // testEventEmitter.emit("disconnected", { adapter: "wallet-connect-v1" })

      } catch (error) {
        console.log("error in ui", error);
      }
    })();
  </script>
</body>

</html>